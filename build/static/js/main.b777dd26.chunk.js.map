{"version":3,"sources":["components/FilterForm.js","components/AddPersonForm.js","components/RenderPersons.js","services/persons.js","App.js","index.js"],"names":["FilterForm","_ref","filterValue","handleFilterValueChange","react_default","a","createElement","value","onChange","AddPersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","_ref2","person","deletePerson","key","id","name","number","onClick","RenderPersons","namesToShow","map","RenderPersons_Person","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","className","Error","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","showAll","setShowAll","_useState9","_useState10","setFilterValue","_useState11","_useState12","notificationMessage","setNotificationMessage","_useState13","_useState14","errorMessage","setErrorMessage","useEffect","personService","initialPersons","filter","toLowerCase","includes","App_Notification","App_Error","components_FilterForm","event","target","components_AddPersonForm","preventDefault","personObject","foundPerson","find","window","confirm","returnedPerson","setTimeout","catch","error","components_RenderPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b777dd26.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterForm = ({ filterValue, handleFilterValueChange }) => {\r\n    return (\r\n      <div>\r\n        filter shown with: <input value={filterValue}\r\n          onChange={handleFilterValueChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default FilterForm","import React from 'react'\r\n\r\nconst AddPersonForm = ({ addPerson, newName,\r\n    handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName}\r\n                    onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber}\r\n                    onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddPersonForm","import React from 'react'\r\n\r\nconst RenderPersons = ({ namesToShow, deletePerson }) => {\r\n    return namesToShow.map(person =>\r\n        <Person key={person.id}\r\n            person={person}\r\n            deletePerson={() => deletePerson(person.id, person.name)}\r\n            />\r\n        )\r\n}\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return (\r\n        <li key={person.id}>\r\n        {person.name} {person.number}\r\n        <button onClick={deletePerson}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default RenderPersons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, deleteObject}","import React, { useState, useEffect } from 'react';\nimport FilterForm from './components/FilterForm'\nimport AddPersonForm from './components/AddPersonForm'\nimport RenderPersons from './components/RenderPersons'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [filterValue, setFilterValue] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const foundPerson = persons.find(person => person.name === newName)\n    if (foundPerson) {\n      const updateAllowed = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (updateAllowed) {\n        personService\n          .update(foundPerson.id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => {\n              if (person.name === returnedPerson.name) {\n                return returnedPerson\n              } else {\n                return person\n              }\n            }))\n          })\n          .then(() => {\n            setNotificationMessage(`Updated ${newName}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Information of ${newName} has already been removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n        .then(() => {\n          setNotificationMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterValueChange = (event) => {\n    setFilterValue(event.target.value)\n    if (filterValue === '') {\n      setShowAll(true)\n    } else {\n      setShowAll(false)\n    }\n  }\n\n  const namesToShow = showAll\n    ? persons\n    : persons.filter((person) => {\n      return person.name.toLowerCase().includes(filterValue.toLowerCase())\n    })\n\n  const deletePerson = (id, name) => {\n    const deleteAllowed = window.confirm(`Delete ${name}?`)\n    if (deleteAllowed) {\n      personService\n        .deleteObject(id)\n        .then(\n        setPersons(persons.filter(person => {\n        return person.id !== id\n        })))\n        .then(() => {\n          setNotificationMessage(`Deleted ${name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <FilterForm filterValue={filterValue} handleFilterValueChange={handleFilterValueChange} />\n      <h2>Add a new</h2>\n      <AddPersonForm addPerson={addPerson}\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <RenderPersons namesToShow={namesToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nconst Error = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, \n    document.getElementById('root'));\n\n"],"sourceRoot":""}